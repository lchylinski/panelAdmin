<!DOCTYPE html>
<html lang="en">
<head >
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <!-- Latest compiled and minified JavaScript -->
    <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>-->
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>-->

    <!--<script src="../js/jquery.js"></script>-->

    <!--<script src="../js/bootstrap.min.js"></script>-->
    <!--<link href="../font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">-->
    <link id="loadCss" rel="stylesheet" href="../../questsList/questsList.css" type="text/css" >

    <meta charset="UTF-8">
    <title>Quests List</title>
</head>
<body>
<div class="wrapper">
    <div class="headerUp " id="loadHeader">
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 event">
            Quests List
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 add">
            <div class="btn btnAdd">
                <i class="fa fa-plus myFa"></i>
                <p>Add new quest</p>
            </div>
        </div>
    </div>
    <div class="table-responsive myTable" id="loadContent">
        <table class="table">
            <thead>
            <tr class="subHeaderUp ">
                <th>ID</th>
                <th>Event Id</th>
                <th>Name</th>
                <th>Kind</th>
                <th>Reward</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody id="questsList">
            </tbody>
        </table>
    </div>
</div>
</body>

<script>
    $(document).ready(function(){

        console.log(location.pathname);
        var presentID = location.pathname.slice(-1);
        parseInt(presentID);
        presentID -= 1 ;
        console.log("presentID do tablicy tylko = " + presentID);

        $.getJSON("../../js/events.json", function(result){
            $.each(result, function(i, dane){

                for(var j=0;j<dane[presentID].quests.length;j++) {
                    var theme = '';
                    if(dane.id % 2 == 0 ){
                        theme = 'theme';
                    }

                    $('#questsList').append("<tr class="+theme+"><td>" + dane[presentID].quests[j].questId + "</td><td>" + dane[presentID].quests[j].eventId + "</td><td>"
                            + dane[presentID].quests[j].name + "</td><td>" + dane[presentID].quests[j].kind + "</td><td>"+dane[presentID].quests[j].reward + "</td><td><div class='btn btnList'><p>List</p></div>"
                            + "<div class='btn btnEdit'><p>Edit</p></div>"
                            + "<div class='btn btnDelete'><p>Delete</p></div>"
                            + "</td></tr>");
                    };
            });
        });
    });
</script>
</html>
